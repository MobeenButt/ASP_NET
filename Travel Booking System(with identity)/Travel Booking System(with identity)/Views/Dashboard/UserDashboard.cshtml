@model Travel_Booking_System_with_identity_.Models.ViewModels.UserDashboardViewModel

<h2>User Dashboard</h2>

<h3>Available Packages</h3>
@foreach (var p in Model.Packages)
{
    <div style="border:1px solid #ccc;padding:10px;margin-bottom:8px;">
        <h4>@p.PackageName - @p.Destination</h4>
        <p>Price: @p.Price.ToString("C") | Seats: @p.AvailableSeats</p>
        <form asp-action="BookPackage" method="post">
            <input type="hidden" name="PackageId" value="@p.PackageID" />
            <input name="CustomerName" placeholder="Your name" required />
            <input name="CustomerEmail" placeholder="Email" required />
            <input name="NumberOfTravelers" type="number" min="1" value="1" required />
            <button type="submit">Book</button>
        </form>
    </div>
}

<h3>Your Bookings</h3>
<table>
    <tr><th>Package</th><th>When</th><th>Travellers</th><th>Total</th><th>Status</th></tr>
    @foreach (var b in Model.Bookings)
    {
        <tr>
            <td>@b.Package?.PackageName</td>
            <td>@b.BookingDate.ToLocalTime().ToString("g")</td>
            <td>@b.NumberOfTravelers</td>
            <td>@b.TotalAmount.ToString("C")</td>
            <td>@b.BookingStatus</td>
        </tr>
    }
</table>
